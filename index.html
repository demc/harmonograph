<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF8">

    <style>

      canvas {
        border: 1px solid black;
      }

      label {
        display: inline-block;
        width: 150px;
      }

      input {
        width: 40px;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
      }

    </style>
  </head>
  <body>
    <canvas id="p" width="400" height="500"></canvas>

    <ul>
      <li>
        <label for="frequency">Frequency (radians)</label>
        <input type="number" id="frequency" value="2" />
      </li>
      <li>
        <label>Phase Shift (radians)</label>
        <input type="number" id="phase-shift" value="0.5" />
      </li>
      <li>
        <label>Amplitude (pixels)</label>
        <input type="number" id="amplitude" value="50" />
      </li>
      <li>
        <button id="pause">Pause</button>
      </li>
    </ul>

    <script src="harmonograph.js"></script>
    <script>
      let p = document.getElementById('p');
      let ctx = p.getContext('2d');
      let scene = new Scene(ctx, 400, 500);
      let pendulumDial = new PendulumDial(scene, 20, 25, 360, 10);
      let unitCircle = new UnitCircle(scene, 200, 350, 50);
      let sineWave = new SineWave(scene, 20, 300, 180, 100, 50);
      let penulum1D = new Pendulum1D(scene, 20, 50, 360, 180, 90);

      scene.start();

      const pauseButton = document.getElementById('pause');
      pauseButton.addEventListener('click', (e) => {
        if (scene.playing) {
          scene.stop();
          pauseButton.textContent = 'Resume';
        } else {
          scene.start();
          pauseButton.textContent = 'Pause';
        }
      });

      const frequencyInput = document.getElementById('frequency');
      const phaseShiftInput = document.getElementById('phase-shift');
      const amplitudeInput = document.getElementById('amplitude');

      frequencyInput.addEventListener('change', (e) => {
        const value = parseFloat(e.target.value);

        if (isFinite(value)) {
          const frequency = value * Math.PI;
          pendulumDial.setFrequency(frequency);
        }
      });
    </script>
  </body>
</html>
